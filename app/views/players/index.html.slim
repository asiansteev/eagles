h1= "Listing Players"

h2= "Season"
table class="table table-condensed table-striped"
  tbody
    tr
      td = link_to "All", players_path
      - (2014..current_year).to_a.each do |year|
        td = link_to year, players_path(year: year)

h2= "Batting Records"
table class="table table-condensed table-striped"
  thead
    tr
      - @batter_record_columns.each do |column, field_name|
        - translated_column = "batter." + column
        th = link_to t(translated_column), players_path(year: params[:year], batter_sort: column, pitcher_sort: params[:pitcher_sort])
      th colspan="3"

  tbody
    - @batters.each do |batter|
      tr
        - @batter_record_columns.each do |column, field_name|
          - if column == "Name"
            td = link_to batter.player.name, batter.player
          - elsif column == "Team"
            td = batter.player.team
          - elsif column == "Back number"
            td = batter.player.back_number
          - else
            - if batter[field_name].class == BigDecimal
              - @decimal_value = sprintf "%.3f", batter[field_name]
              td = @decimal_value
            - else
              td = batter[field_name]

        - if current_user
          td = link_to 'Edit', edit_player_path(batter.player)
          td = link_to 'Destroy', batter.player, method: :delete, data: { confirm: 'Are you sure?' }

br

h2= "Fielding Records"
table class="table table-condensed table-striped"
  thead
    tr
      th = t("game_simple_fielder.Player Name")
      th = t("game_simple_fielder.Field Error")
  tbody
    - @simple_field_records.each do |player, field_error|
      tr
        td = player
        td = field_error

br

h2= "Pitching Records"
table class="table table-condensed table-striped"
  thead
    tr
      - @pitcher_record_columns.each do |column, field_name|
        - translated_column = "pitcher." + column
        th = link_to t(translated_column), players_path(year: params[:year], batter_sort: params[:batter_sort], pitcher_sort: column)
      th colspan="3"

  tbody
    - @pitchers.each do |pitcher|
        tr
          - @pitcher_record_columns.each do |column, field_name|
            - if column == "Name"
              td = link_to pitcher.player.name, pitcher.player
            - elsif column == "Team"
              td = pitcher.player.team
            - elsif column == "Back number"
              td = pitcher.player.back_number
            - else
              - if pitcher[field_name].class == BigDecimal
                - @decimal_value = sprintf "%.2f", pitcher[field_name]
                td = @decimal_value
              - else
                td= pitcher[field_name]
          - if current_user
            td = link_to 'Edit', edit_player_path(pitcher.player)
            td = link_to 'Destroy', pitcher.player, method: :delete, data: { confirm: 'Are you sure?' }

- if current_user
  = link_to 'New Player', new_player_path

